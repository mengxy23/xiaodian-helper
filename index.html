
<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8" />
<title>å°ç”µåŠ©æ‰‹ V9 Â· Vercel æ¥å£ç‰ˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
body{font-family:sans-serif;margin:0;background:#f5f7fa}header{background:#0074D9;color:#fff;padding:1rem;text-align:center}nav{display:flex;flex-wrap:wrap;justify-content:center;gap:0.5rem;background:#e6f3ff;padding:0.75rem}nav button{padding:0.5rem 1rem;border-radius:6px;border:1px solid #0074D9;background:#fff;color:#0074D9;font-weight:bold;cursor:pointer}section{display:none;padding:1.5rem;max-width:720px;margin:auto;background:#fff;border-radius:1rem;margin-top:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.05)}section.active{display:block}h2{color:#0074D9}ul{padding-left:1.2rem}li{margin-bottom:0.5rem}
</style>
</head>
<body>
<header>å°ç”µåŠ©æ‰‹ V9 Â· æ¥å…¥ä¸­è½¬æœåŠ¡</header>
<nav>
  <button onclick="showTab('weather')">å¤©æ°”</button>
  <button onclick="showTab('hot')">çƒ­ç‚¹</button>
  <button onclick="showTab('jieqi')">èŠ‚æ°”</button>
</nav>
<section id="weather"><h2>å¤©æ°”é¢„æŠ¥</h2><p id="weatherData">åŠ è½½ä¸­...</p></section>
<section id="hot"><h2>çƒ­ç‚¹èµ„è®¯</h2><ul id="hotList"><li>åŠ è½½ä¸­...</li></ul></section>
<section id="jieqi"><h2>ğŸ“… äºŒåå››èŠ‚æ°”</h2><div id="jieqiData">åŠ è½½ä¸­...</div></section>
<script>
function showTab(id) {
  document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

fetch("https://xiaodian-proxy.vercel.app/api/weather")
.then(res => res.json()).then(data => {
  const w = data.result;
  document.getElementById("weatherData").innerText = `${w.area}ï¼Œ${w.weather}ï¼Œ${w.low}~${w.high}â„ƒï¼Œ${w.wind}ï¼Œ${w.windsc}çº§`;
}).catch(err => {
  document.getElementById("weatherData").innerText = "å¤©æ°”åŠ è½½å¤±è´¥ï¼š" + err.message;
});
fetch("https://xiaodian-proxy.vercel.app/api/hot")
.then(res => res.json()).then(data => {
  const list = data.result?.list || [];
  const ul = document.getElementById("hotList");
  ul.innerHTML = "";
  list.slice(0, 5).forEach(item => {
    const li = document.createElement("li");
    li.textContent = item.title;
    ul.appendChild(li);
  });
}).catch(err => {
  document.getElementById("hotList").innerHTML = "<li>çƒ­ç‚¹åŠ è½½å¤±è´¥ï¼š" + err.message + "</li>";
});
async function loadAllJieqi() {
  const container = document.getElementById("jieqiData");
  container.innerHTML = "åŠ è½½ä¸­...";
  try {
    const response = await fetch("https://xiaodian-proxy.vercel.app/api/jieqi");
    const data = await response.json();
    if (data.code === 200 && data.result && Array.isArray(data.result.list)) {
      const list = data.result.list;
      let html = "<ul>";
      list.forEach(j => {
        html += `<li><strong>${j.name}</strong>ï¼ˆ${j.date}ï¼‰ï¼š${j.des}</li>`;
      });
      html += "</ul>";
      container.innerHTML = html;
    } else {
      container.innerHTML = "æ— æ³•è·å–èŠ‚æ°”åˆ—è¡¨ï¼Œè¯·æ£€æŸ¥æ¥å£çŠ¶æ€ã€‚";
    }
  } catch (err) {
    container.innerHTML = "èŠ‚æ°”åŠ è½½å¤±è´¥ï¼š" + err.message;
  }
}
window.onload = loadAllJieqi;

</script></body></html>
